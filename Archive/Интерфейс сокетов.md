202205061157
Tags: #компьютерные_сети

---

# Интерфейс сокетов
 
Появились в OC Berkley Unix в 1983

Сокет в Unix - файл специального вида. Все, что в него записывается, передается по сети. Передача данных по сети скрыта от программиста. 

Взаимодействующие стороны сокетов Беркли:
- Сервер
	Слушает и ждет запросов на соединение на IP адресе и порту 
- Клиент
	Устанавливает соединение

Работа сокетов:
![[Pasted image 20220506120413.png]]
1. На сервере вызывается Socket и создается объект сокета. В простейшом случае это - файл спец. вида.
2. Вызывается Bind - для присоединения сокета к IP адресу и порту
3. Вызов Listen - готов принимать соединения. При вызове Listen создается **очередь для соединений**. Необходимо указать размер очереди. Если сервер получит больше запросов на соединение, он их отбросит.
4. Сервер вызывает метод сокета Accept
5. Клиент вызывает метод Socker для создания
6. Далее вызывается метод Connect. Тут указываются IP адрес и порт сокета на сервере.
7. Отправляется запрос на соединение.
8. !Важно - чтобы другие могли взаимодействовать с сокетом, создается **копия сокета** и клиент устанавливает соединение с ним и данные передаются через эту копию
9. Для отправки клиент вызывает Send
10. Сервер может их прочитать с помощью метода Recieve
11. После передачи всех данных клиент вызывает Close

---
## Links
- [[Транспортный уровень модели TCP-IP]]